{% set currentLocale = locale | default('en') %}

<div class="blog-sidebar">
  <!--Featured-->
  <div class="blog-featured-group">
    <span class="blog-header">{{ 'blog.featuredPosts' | t(currentLocale) }}</span>
    {% set featuredPosts = collections['featured_' + currentLocale] | default(collections.featured) | default([]) %}
    {%- for post in featuredPosts | reverse -%}
    <a class="blog-feature" href="{{ post.url }}">
      <picture class="blog-featureImage">
        <img
          src="{{ post.data.image }}"
          alt="{{ post.data.imageAlt | default(post.data.title) }}"
          width="60"
          height="60"
          decoding="async"
        />
      </picture>
      <div class="content-group">
        <h3 class="feature-h3">{{ post.data.title | default(post.data.blogTitle) }}</h3>
        <span class="feature-date">{{ post.date | postDate }}</span>
      </div>
    </a>
    {%- endfor -%}
    {% if featuredPosts | length == 0 %}
    <p class="post-excerpt" style="font-size: 0.9rem;">{{ 'blog.noPosts' | t(currentLocale) }}</p>
    {% endif %}
  </div>
  <!--Add anything else in the sidebar below-->
</div>
