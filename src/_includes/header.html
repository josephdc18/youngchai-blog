<!-- ============================================ -->
<!--                 Navigation                   -->
<!-- ============================================ -->
{% set navPages = collections.all | eleventyNavigation %}
{% set currentLocale = locale | default(page.url | getLocale) %}
{% set urlPrefix = '/ko' if currentLocale == 'ko' else '' %}

<nav id="navbar" class="navbar">
    <div class="container nav-content">
        <!-- Mobile: Hamburger menu button -->
        <button id="menu-btn" class="menu-btn mobile-only" aria-expanded="false" aria-controls="mobile-menu">
            <div id="menu-icon-container" class="menu-icon-box">
                <i data-lucide="menu" width="20" height="20"></i>
            </div>
        </button>

        <!-- Desktop: Left navigation links -->
        <div class="nav-links-left desktop-only">
            <a href="{{ urlPrefix }}/blog/style/" class="nav-link">{{ 'nav.style' | t(currentLocale) }}</a>
            <a href="{{ urlPrefix }}/blog/living/" class="nav-link">{{ 'nav.living' | t(currentLocale) }}</a>
            <a href="{{ urlPrefix }}/blog/travel/" class="nav-link">{{ 'nav.travel' | t(currentLocale) }}</a>
        </div>

        <a href="{{ urlPrefix }}/" class="brand-logo" aria-label="{{ 'accessibility.goToHomepage' | t(currentLocale) }}">
            <img src="/assets/logo-light.png" alt="{{ client.name | default('Young Chai') }}">
        </a>

        <!-- Desktop: Right navigation links -->
        <div class="nav-links-right desktop-only">
            <a href="{{ urlPrefix }}/about/" class="nav-link">{{ 'nav.about' | t(currentLocale) }}</a>
            <a href="{{ urlPrefix }}/contact/" class="nav-link">{{ 'nav.contact' | t(currentLocale) }}</a>
            {% include "language-switcher.html" %}
            <button id="search-btn" class="nav-link-btn" aria-label="{{ 'accessibility.searchSite' | t(currentLocale) }}">
                <i data-lucide="search" width="20" height="20" stroke-width="1.5"></i>
            </button>
        </div>

        <!-- Mobile: Search & Language -->
        <div class="nav-actions mobile-only">
            {% include "language-switcher.html" %}
            <button id="search-btn-mobile" aria-label="{{ 'accessibility.searchSite' | t(currentLocale) }}">
                <i data-lucide="search" width="24" height="24" stroke-width="1.5"></i>
            </button>
        </div>
    </div>
</nav>

<div id="mobile-menu" class="hidden" aria-hidden="true">
    <nav class="mobile-menu-content" aria-label="Mobile navigation">
        <a href="{{ urlPrefix }}/blog/style/" class="mobile-link">{{ 'nav.style' | t(currentLocale) }}</a>
        <a href="{{ urlPrefix }}/blog/living/" class="mobile-link">{{ 'nav.living' | t(currentLocale) }}</a>
        <a href="{{ urlPrefix }}/blog/travel/" class="mobile-link">{{ 'nav.travel' | t(currentLocale) }}</a>
        <div style="border-top: 1px solid var(--color-border); margin: 1.5rem 0;"></div>
        <a href="{{ urlPrefix }}/about/" class="mobile-link">{{ 'nav.about' | t(currentLocale) }}</a>
        <a href="{{ urlPrefix }}/contact/" class="mobile-link">{{ 'nav.contact' | t(currentLocale) }}</a>
    </nav>
</div>

<div id="search-overlay" class="search-overlay hidden" aria-hidden="true">
    <div class="search-panel">
        <div class="search-header">
            <h3 class="font-serif">{{ 'nav.search' | t(currentLocale) }}</h3>
            <button id="search-close" aria-label="Close search">
                <i data-lucide="x" width="20" height="20"></i>
            </button>
        </div>
        <div class="search-input-row">
            <i data-lucide="search" width="18" height="18"></i>
            <input id="search-input" type="search" placeholder="Type a title, topic, or keyword" autocomplete="off" />
        </div>
        <ul id="search-results" class="search-results"></ul>
        <p id="search-empty" class="search-empty">Try another keyword.</p>
    </div>
</div>
